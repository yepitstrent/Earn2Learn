<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Moodle translation guide</title>
  <link rel="stylesheet" href="docstyles.css" type="TEXT/CSS" />
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>

<body>

<h1>Moodle Translation Guide</h1>

<p>Translating Moodle is not that difficult, but a few things are good to know before you start.</p>

<p>&nbsp;</p>

<h2>Structure of a Moodle language pack</h2>

<p style="margin-left: 40px;">All Moodle language packs are located in
the lang directory, with each language in a unique directory named the
same as the language short name (en, fr, nl, es ...). </p>


<p style="margin-left: 40px;">All the main files are in this
folder, with .php extensions (eg moodle.php, resource.php etc).&nbsp;
These files contains short phrases, often called "<span style="font-style: italic;">strings</span>". 
</p>


<p style="margin-left: 40px;">There might also be  some folders containing .html web pages:
</p>


<ul style="margin-left: 40px;">


<li><strong>help</strong>: containing the context-sensitive help files that pop-up when you click the help icons throughout Moodle 
</li><li><strong>docs</strong>: containing the basic documentation pages (such as this one!)<br />
</li>
</ul>



<p>&nbsp;</p>



<h2>Creating a completely new language pack</h2>




<p style="margin-left: 40px;">If your language is not yet supported by
Moodle, or if you just want to make some customisations to your own
site's interface, you may want to start a new translation. </p>



<p style="margin-left: 40px;">All you need to do is create a new folder
in the lang directory using the 2-letter code for your language. You
can find these standard codes in lib/languages.php. If you are making a
local variation of another language use the code of that language with
an underscore and a meaningful two letter extension (e.g. <span style="font-style: italic;">pt </span>for Portuguese and <span style="font-style: italic;">pt_br</span> for Brasilian variation of the Portuguese language pack).&nbsp; If you are making a Unicode version add <span style="font-weight: bold;">_utf8</span> at the end (eg <span style="font-style: italic;">sr_utf8</span>).<br />
</p>



<p style="margin-left: 40px;">Next, create in your new language folder the file &quot;moodle.php&quot;, containing the folowing lines:<br /><br />
<code>
&lt;?PHP <br />
$string['thischarset'] = 'iso-8859-1';<br />
$string['thisdirection'] = 'ltr';<br />
$string['thislanguage'] = 'new language pack';<br />
?>
</code>
<br /><br />
or copy the moodle.php from another
language into your new directory.&nbsp; The one from the "en" folder is
usually best but it doesn't really matter as you are going to rewrite
it anyway. Creating moodle.php yourself has the advantage of starting with a completely clean and empty language pack.<br />
</p>




<p style="margin-left: 40px;">You are now ready to start inserting new strings by editing your language... see below for details on this.</p>



<p style="margin-left: 40px;">For a new language pack, the very first
thing you need to edit is the string named "thischarset" in moodle.php.
It must contain a valid web character set for your language. After you
change that string, save the moodle.php file, then <span style="font-weight: bold;">reload the page</span>. You can then continue with the rest of the strings. </p>



<p>&nbsp;</p>



<h2>Editing an existing language pack</h2>




<h3 style="margin-left: 40px;">Making small customisations<br />
</h3>



<p style="margin-left: 80px;">If you just want to change a few things in the interface to suit your own site better, <span style="font-weight: bold;">don't start editing one of the standard language packs</span>.&nbsp; If you do then your changes will be overwritten next time you upgrade to a new Moodle.<br />
</p>
<p style="margin-left: 80px;">Instead, use the instructions above for
making a brand new language pack, and set the parent language (in
moodle.php) to be the language that is most similar to yours.&nbsp; For
example, a good name for a local english version would be "<span style="font-style: italic;">en_local</span>", and the parent language would be "<span style="font-style: italic;">en</span>" or "<span style="font-style: italic;">en_us</span>".</p>
<p style="margin-left: 80px;">Note that for everyone on your site to
see this new pack you have to select it as the site language and
restrict the available languages on <span style="font-weight: bold;">Admin &gt;&gt; Configuration &gt;&gt; Variables</span>.<br />
<br />
</p>




<h3 style="margin-left: 40px;">Translating the Moodle interface language files (the "string" files)<br />
</h3>




  
  <ol  style="margin-left: 80px;">
    <li>Log on to your Moodle server as an administrator. </li>
    <li>Go to <span style="font-weight: bold;">Administration &gt;&gt; Configuration &gt;&gt; Language</span>, which is the language administration page. </li>
    <li>On this page you can choose your language from the  menu, then choose "Compare and Edit Language".</li>
    <li>You should see forms you can edit for each file. If you do not,
then you may have to make sure that the files are writeable - you may
have to change file permissions.</li>
    <li>The forms consist of three columns, the first is the name of
each string, the second is that string in English, and the last is
translation in the current language. </li>
    <li>Edit missing strings in each files (highlighted in colour),
remembering to hit the "Save changes" button at the end of each form.</li>
    <li>It's OK to leave strings empty - Moodle will simply use the
parent language for that string instead. You can define the parent
language in moodle.php, otherwise English is always used by default. </li>
    <li>A quick way to see all the missing strings is by using the button to "Check for missing strings". Leave the untranslated strings completely empty or this handy tool won't work.<br />
      <br />
    </li>

    
    
    
    
    

</ol>


<h3 style="margin-left: 40px;">Translating the help and documentation files</h3>



<p style="margin-left: 80px;">There's no built-in editor in Moodle yet to translate
the help files, but it's really not that difficult. It is important to
use the <span style="font-weight: bold;">en</span> language pack as a reference language. Copy a help file from
the en language pack and paste it on the same location in your own
language pack. Then use a plain text editor to translate the file,
making sure not to modify any code in the file (there usually is no
code, just HTML-tags). (DON'T USE A WORDPROCESSOR to write the
help-files because these programs add too much rubbish to the files).
<br /><b>Don't leave untranslated help files in your language pack.</b></p>

<p style="margin-left: 80px;">Take care to write the helpfiles XHTML-compliant. This means in short:</p>
<ul style="margin-left: 80px;">
  <li>All tags should be closed: <span style="color:rgb(255, 0, 0);" >&lt;p&gt;</span>lalala<span style="color:rgb(255, 0, 0);" >&lt;/p&gt;</span></li>
  <li>All elements should be nested: <span style="color:rgb(255, 0, 0);" >&lt;p&gt;</span> lalala <span style="color:rgb(0, 0, 255);" >&lt;em&gt;</span>lalala<span style="color:rgb(0, 0, 255);" >&lt;/em&gt;</span> <span style="color:rgb(255, 0, 0);" >&lt;/p&gt;</span></li>
  <li>All elements and attributes must be lower case</li>
  <li>All atributes should be written in full and with quotes : <span style="color:rgb(255, 0, 0);" >&lt;p align=&quot;right&quot;&gt;</span> lalala &lt;/p&gt;</li>
  <li>Empty elements must end with /&gt;: <span style="color:rgb(255, 0, 0);" >&lt;br /&gt; &lt;hr /&gt;</span>. You should add an extra space before the "/" symbol.</li>
  <li>An &lt;img should have an alt="" (it can be empty) en must be closed like other empty elements with a space and  /&gt; like <span style="color:rgb(255, 0, 0);" >&lt;img alt="" src="picture.gif" /></span></li>
  <li><span style="color:rgb(255, 0, 0);" >&lt;?=</span> and <span style="color:rgb(255, 0, 0);" >&lt;?</span> should be <span style="color:rgb(255, 0, 0);" >&lt;?php</span></li>
  <li>There should not be ANY font tags at all. <span style="color:rgb(255, 0, 0);" > &lt;p&gt;&lt;em&gt; &lt;h1&gt; &lt;h2&gt;</span> etc should be enough for the language files ...</li>
  <li>The language name in the languagepack ($string['thislanguage']  in moodle.php) should generally use Unicode Numeric Character References (NCR) if possible, because this allows the name to work within ANY encoding context (see the Chinese pack for example).</li>
</ul>
<p style="margin-left: 80px;">None of the files in the help folder need a doc type, html, body, head opening and closing tags - these files are included with help.php. The script will take care of welforming the pages. This means also there is not much room for HTML creativity! Please stick to the English example.</p>
<p style="margin-left: 80px;">The files in the docs folder must be completely XHTML compliant, including doc type, header etc.</p>

 
<p style="margin-left: 80px;">Clicking on "Check for missing strings"
in the language administration screen will also show you what files you
are missing. If you have missing files then Moodle will use the parent
language instead, so don't leave copies of <strong>untranslated</strong> help files in your language pack or this handy tool won't work.</p>


<p>&nbsp;</p>


<h2>Submitting your language pack to the Moodle project </h2>


<p style="margin-left: 40px;">Sharing your translation with Moodle will
ensure that you help other people who speak your language.&nbsp;&nbsp;
Your interface language will be available in future versions of Moodle.<br />
</p>


<p style="margin-left: 40px;">Simply archive your whole new language directory as a <span style="font-weight: bold;">zip</span> file and email it to <a href="m&#97&#105&#108&#116&#111:tra%6es%6ca%74%69o%6e%40%6d%6f%6f%64%6c%65.org">&#116&#114a&#110&#115&#108&#97t&#105on&#64&#109o&#111&#100&#108e&#46o&#114&#103</a>.<br />
</p>
<p style="margin-left: 40px;">We will get back to you with further details.<br />
</p>


<p  style="margin-left: 40px;">Checklist you can use before committing::</p>
<ul type="circle" style="margin-left: 80px;">
<li>No empty files?</li>
<li>No untranslated files or strings?</li>
<li>Help files not edited with a wordprocessor?</li>
<li>README file contains language, name and emailadress of the translator?</li>
<li>Foldername is the right language code (check moodle\lib\languages.php)?</li>
<li>Does the language pack run errorfree on a testsite?</li>
<li>When "thislanguage" contains other then latin letters, is it written in NCR notation?</li>
<li>Are the strings and files XHTML compliant?</li>
</ul>


<h2>Maintenance of a standard language pack<br />
</h2>



<p style="margin-left: 40px;">If you are committed to maintaining a language in Moodle, it's best to use <a href="?file=cvs.html">Moodle CVS</a> so that you have an up-to-date version of Moodle, and can easily "check in" your changes directly into the Moodle project. Contact <a href="m&#97&#105&#108&#116&#111:tra%6es%6ca%74%69o%6e%40%6d%6f%6f%64%6c%65.org">&#116&#114a&#110&#115&#108&#97t&#105on&#64&#109o&#111&#100&#108e&#46o&#114&#103</a> if you need help setting this up.<br />
</p>

<p style="margin-left: 40px;">You must also subscribe to the <a target="_top" href="http://moodle.org/mod/forum/view.php?id=43">Languages Forum</a> for news and discussion about issues that affect translations.<br />
</p>

<p style="margin-left: 40px;">Finally, to keep in touch with changes in the project on a day-to-day basis it is a very good idea to subscribe to the <a href="http://sourceforge.net/mail/?group_id=30935" target="_top">CVS mailing list</a>.&nbsp; This helps to keep your
translation as close to the English text as possible.<br />
</p>
<p style="margin-left: 40px;"><br />
</p>

<p align="center"><font size="1"><a href="." target="_top">Moodle Documentation</a></font></p>
<p align="center"><font size="1">Version: $Id: translation.html,v 1.12.2.3 2006/02/06 09:59:38 moodler Exp $</font></p>

</body></html>
